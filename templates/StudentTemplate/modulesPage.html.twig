{% extends "baseStudent.html.twig" %}

{% block MainContent %}
<main class="main">

  <!-- Page Title -->
  <div class="page-title" data-aos="fade">
    <div class="heading">
      <div class="container">
        <div class="row d-flex justify-content-center text-center">
          <div class="col-lg-8">
            <h1>Modules</h1>
            <p class="mb-0">Odio et unde deleniti. Deserunt numquam exercitationem. Officiis quo odio sint voluptas consequatur ut a odio voluptatem. Sit dolorum debitis veritatis natus dolores. Quasi ratione sint. Sit quaerat ipsum dolorem.</p>
          </div>
        </div>
      </div>
    </div>
    <nav class="breadcrumbs">
      <div class="container">
        <ol>
          <li><a href="index.html">Home</a></li>
          <li class="current">Courses</li>
        </ol>
      </div>
    </nav>
  </div><!-- End Page Title -->

  <!-- Courses List Section -->
  <section id="courses-list" class="section courses-list">

    <div class="container">

      <div class="row">
        {% for module in modules %}
        <div class="col-lg-4 col-md-6 mt-5 d-flex align-items-stretch" data-aos="zoom-in" data-aos-delay="100">
          <div class="course-item">
            {% if module.imgPath %}
            <img src="{{ module.imgPath }}" alt="Image du module" width="150" height="150">
            {% else %}
            <p>Pas d'image disponible</p>
            {% endif %}
            <div class="course-content">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <p class="category">{{ module.nom }}</p>
              </div>

              <form action="{{ path('app_suivi_add', {'id': module.id}) }}" method="POST">
                <button type="submit" class="btn" style="display: none;"></button>
              </form>

              <p class="description">{{ module.description }}</p>
              <div class="trainer d-flex justify-content-between align-items-center">
                <div class="trainer-profile d-flex align-items-center">
                  <img src="assets/img/trainers/trainer-1-2.jpg" class="img-fluid" alt="">
                  <a href="" class="trainer-link">Antonio</a>
                </div>
              </div>
            </div>
          </div>
        </div> <!-- End Course Item-->
        {% endfor %}
      </div>

    </div>

  </section><!-- /Courses List Section -->

</main>

<script>
  // Récupérer toutes les cartes de cours
  var courseCards = document.querySelectorAll('.course-item');

  // Pour chaque carte de cours, ajouter un gestionnaire d'événements au clic
  courseCards.forEach(function(card) {
    card.addEventListener('click', function() {
      // Trouver le formulaire dans cette carte et le soumettre
      var form = card.querySelector('form');
      form.submit();
    });
  });
</script>

{% endblock %}